/* ============================================
   Kopfnuss! -- Animationen
   ============================================ */

/* --- Reveal-Animation (Item aufdecken) --- */
.ring-item.revealing {
  animation: revealPulse 2s ease-in-out forwards;
  z-index: 10;
}

@keyframes revealPulse {
  0% {
    transform: var(--item-translate) scale(1);
    box-shadow: var(--shadow-md);
  }
  15% {
    transform: var(--item-translate) scale(1.15);
    box-shadow: 0 0 25px rgba(108, 92, 231, 0.5);
  }
  30% {
    transform: var(--item-translate) scale(1.1);
    box-shadow: 0 0 35px rgba(108, 92, 231, 0.6);
  }
  50% {
    transform: var(--item-translate) scale(1.2);
    box-shadow: 0 0 40px rgba(108, 92, 231, 0.7);
  }
  70% {
    transform: var(--item-translate) scale(1.15);
    box-shadow: 0 0 30px rgba(108, 92, 231, 0.5);
  }
  85% {
    transform: var(--item-translate) scale(1.05);
  }
  100% {
    transform: var(--item-translate) scale(1);
    box-shadow: var(--shadow-md);
  }
}

/* --- Richtig-Feedback --- */
.ring-item.revealed.correct {
  animation: correctFlash 0.5s ease;
}

@keyframes correctFlash {
  0%   { transform: var(--item-translate) scale(1); }
  30%  { transform: var(--item-translate) scale(1.1); }
  100% { transform: var(--item-translate) scale(1); }
}

/* --- Falsch-Feedback --- */
.ring-item.revealed.wrong {
  animation: wrongShake 0.5s ease;
}

@keyframes wrongShake {
  0%   { transform: var(--item-translate) translateX(0); }
  20%  { transform: var(--item-translate) translateX(-8px); }
  40%  { transform: var(--item-translate) translateX(8px); }
  60%  { transform: var(--item-translate) translateX(-4px); }
  80%  { transform: var(--item-translate) translateX(4px); }
  100% { transform: var(--item-translate) translateX(0); }
}

/* --- Scoreboard Punktezuwachs --- */
.score-card.score-bump {
  animation: scoreBump 0.3s ease;
}

@keyframes scoreBump {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.05); }
  100% { transform: scale(1); }
}

/* --- Turn-Indikator Wechsel --- */
.turn-indicator {
  animation: turnSlideIn 0.4s ease;
}

@keyframes turnSlideIn {
  0%   { opacity: 0; transform: translateY(-20px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* --- Runden-Overlay Einblendung --- */
.round-overlay {
  animation: overlayFadeIn 0.3s ease;
}

@keyframes overlayFadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

.round-overlay-content {
  animation: overlayScaleIn 0.3s ease;
}

@keyframes overlayScaleIn {
  from { opacity: 0; transform: scale(0.9); }
  to   { opacity: 1; transform: scale(1); }
}

/* --- Konfetti (fuer Sieges-Screen) --- */
.confetti-container {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 1000;
}

.confetti-piece {
  position: absolute;
  width: var(--confetti-size, 10px);
  height: var(--confetti-size, 10px);
  top: -20px;
  left: var(--confetti-left, 50%);
  background-color: var(--confetti-color, #FF6B6B);
  border-radius: var(--confetti-radius, 2px);
  animation: confettiFall var(--confetti-duration, 3s) ease-in forwards;
  animation-delay: var(--confetti-delay, 0s);
  opacity: 0.9;
}

@keyframes confettiFall {
  0% {
    top: -20px;
    transform: rotate(0deg) translateX(0);
    opacity: 1;
  }
  25% {
    transform: rotate(180deg) translateX(var(--confetti-drift, 30px));
  }
  50% {
    transform: rotate(360deg) translateX(calc(var(--confetti-drift, 30px) * -0.5));
  }
  75% {
    transform: rotate(540deg) translateX(var(--confetti-drift, 30px));
    opacity: 0.8;
  }
  100% {
    top: 110vh;
    transform: rotate(720deg) translateX(0);
    opacity: 0;
  }
}

/* --- Pulsieren (fuer aktives Team im Scoreboard) --- */
.score-card.active-team {
  animation: activePulse 2s ease-in-out infinite;
}

@keyframes activePulse {
  0%   { box-shadow: var(--shadow-md); }
  50%  { box-shadow: var(--shadow-lg); }
  100% { box-shadow: var(--shadow-md); }
}
