<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#6C5CE7">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png">
  <title>Kopfnuss!</title>

  <!-- CSS -->
  <link rel="stylesheet" href="css/variables.css?v=66">
  <link rel="stylesheet" href="css/base.css?v=66">
  <link rel="stylesheet" href="css/layout.css?v=66">
  <link rel="stylesheet" href="css/setup.css?v=66">
  <link rel="stylesheet" href="css/game.css?v=66">
  <link rel="stylesheet" href="css/animations.css?v=66">
  <link rel="stylesheet" href="css/victory.css?v=66">
  <link rel="stylesheet" href="css/admin.css?v=66">
</head>
<body>
  <div id="app">
    <!-- Setup: Team-Konfiguration, Settings -->
    <section id="view-setup" class="view active"></section>

    <!-- Game: Spielscreen mit Ring, Scoreboard, Buttons -->
    <section id="view-game" class="view"></section>

    <!-- Victory: Sieges-Screen -->
    <section id="view-victory" class="view"></section>

    <!-- Import: Kartenset-Verwaltung -->
    <section id="view-import" class="view"></section>

    <!-- Admin: Kartenmanager -->
    <section id="view-admin" class="view"></section>
    <section id="view-batch" class="view"></section>
    <section id="view-library" class="view"></section>
    <section id="view-card-editor" class="view"></section>
    <section id="view-settings" class="view"></section>
  </div>

  <!-- JSZip (fuer ZIP-Import) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

  <!-- Localhost: alten Service Worker + Cache sofort loeschen -->
  <script>
  if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
    if ('serviceWorker' in navigator)
      navigator.serviceWorker.getRegistrations().then(function(r) {
        r.forEach(function(reg) { reg.unregister(); });
      });
    if ('caches' in window)
      caches.keys().then(function(k) {
        k.forEach(function(key) { caches.delete(key); });
      });
  }
  </script>

  <!-- App Entry Point -->
  <script type="module" src="js/app.js?v=66"></script>
</body>
</html>
